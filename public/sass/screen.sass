@import reset

@-webkit-keyframes pulse
  from
    -webkit-transform: scale(1.4)
    color: #F33
  50%
    -webkit-transform: scale(1)
    color: #CCC
  to
    -webkit-transform: scale(1.4)
    color: #F33

@-webkit-keyframes shake
  from
    -webkit-transform: translateX(0)
  25%
    -webkit-transform: translateX(-2px)
    -webkit-animation-easing-function: ease-in-out
  75%
    -webkit-transform: translateX(2px)
    -webkit-animation-easing-function: ease-in-out
  to
    -webkit-transform: translateX(0)

$gutter: 10px
$full_width: 960px
$width: 700px

$colora: #0066cc

html
  overflow: auto
  background: white

body
  font-size: 62.5%
  line-height: 2em
  background: white
  padding-bottom: 60px

a
  color: #0066cc
  text-decoration: none
  border-bottom: 1px solid #cccccc
  &:visited
    border-bottom-color: #eeeeee
  &:hover
    border-bottom-color: #0066cc

header
  width: $width
  margin: 2 * $gutter auto 0 auto
  padding: $gutter 0
  h1
    font-size: 14px
    font-family: Times
    font-weight: normal
    letter-spacing: 0.1em
    color: #cccccc
    font-style: italic
    line-height: 100px
    a
      text-decoration: none
      text-transform: uppercase
      color: #0066cc
      font-style: normal
      margin-right: 0.1em

#frame
  display: block
  overflow: hidden
  height: 320px
  position: relative
  width: 100%
  min-width: $width
  max-width: $full_width
  margin: 0 auto
    bottom: 40px
  &.mini
    height: 10px
    margin-top: (-10px / 2)
    background: #f9f9f9
  &.notfound
    height: 310px
  #art
    position: absolute
    left: 50%
    top: 50%
    margin-left: -480px
    overflow: hidden
    height: 320px
    margin-top: (-320px / 2)
    border-bottom: 10px solid black
  &.notfound #art
    height: 40px
    margin-top: -20px
  .grain
    background: url("/images/grain.png")
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
  &.notfound .grain
    top: 140px
    height: 40px
  .empty, .home
    position: absolute
    line-height: 100px
    top: 50%
    left: 50%
    margin-top: -50px
    text-align: center
    width: 100px
    text-transform: uppercase
    font-size: 14px
    border-radius: 50px
    -webkit-border-radius: 50px
    -moz-border-radius: 50px
    box-shadow: 0 0 4px rgba(0, 0, 0, 0.2)
    -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1)
    -moz-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2)
  .empty
    background: black
    color: white
    margin-left: -50px - 100px - $gutter
  a.home
    background: white
    color: black
    margin-left: 50px + $gutter
    border: none
    &:hover
      background: $colora
      color: white


#art-options
  height: 20px
  background: url("/images/frame-shadow.png") top no-repeat
  margin-top: -40px
  padding: 10px 0
  display: block
  overflow: hidden
  position: relative
  width: 100%
  min-width: $width
  max-width: $full_width
  margin: 0 auto
    top: -40px
    bottom: 20px
  &.mini
    background-position: center -1px
  a
    font-size: 14px
    font-weight: bold
    border: none
    width: 20px
    text-align: center
    position: absolute
    left: 50%
    line-height: 20px
    -webkit-transition-property: -webkit-transform, background-color, color
    -webkit-transition-duration: 0.5s
    -moz-transition-property: -moz-transform, background-color, color
    -moz-transition-duration: 0.5s
    -o-transition-property: transform, background-color, color
    -o-transition-duration: 0.5s
    &.heart
      color: #CCC
      margin-left: ($width / 2) - 50px
      font-size: 16px
      &:hover
        color: #F33
        -webkit-transform: scale(1.4)
        -moz-transform: scale(1.4)
        -o-transform: scale(1.4)
      &.hearting
        color: rgba(#F33, 1)
        -webkit-transform: scale(1)
        -webkit-animation-name: pulse
        -webkit-animation-duration: 1s
        -webkit-animation-timing-function: ease-in-out
        -webkit-animation-iteration-count: infinite
      &.failed
        -webkit-animation-name: shake
        -webkit-animation-duration: 0.15s
        -webkit-animation-iteration-count: 4
        
      &.hearted
        color: #F33
        
    &.refresh
      margin-left: ($width / 2) - 20px
      line-height: 19px
      color: white
      background: #CCC
      padding-top: 1px
      border-radius: 20px
      -webkit-border-radius: 20px
      -moz-border-radius: 20px

      &:hover
        background-color: #F33
        -webkit-transform: rotate(360deg) scale(1.2)
        -moz-transform: rotate(360deg) scale(1.2)
        -o-transform: rotate(360deg) scale(1.2)

@-moz-document url-prefix()
  #art-options a.refresh
    padding:
      top: 4px
      left: 2px
    line-height: 10px
    height: 16px
    width: 18px
    font-size: 20px
    font-weight: normal

article
  font-size: 13px
  line-height: 20px
  color: #444444
  outline-style: none
  outline-width: 0
  width: $width
  margin: 10px auto
  overflow: auto
  content
    width: 400px
    display: block
  h1
    font-size: 36px
    line-height: 40px
    margin: 40px 0
    font-weight: normal
    color: black
    width: $width
  h2, h3, h4, h5, h6
    color: black
  h2
    line-height: 20px
    margin: 20px 0
    text-transform: uppercase
    font-size: 15px
  p+p, p + figure:not(.wide) + p
    text-indent: 1.5em
  pre
    padding: 10px 0
  ul,ol
    margin: $gutter 0
  ol
    list-style: decimal
  ul
    list-style: circle
  code
    font-size: 1.05em
  figure
    width: 280px
    float: right
    margin-right: -300px
    clear: right
    a
      border: none
      margin: 0
      padding: 0
    &.wide
      float: none
      margin: $gutter 0
      width: $width
    &.right
      text-align: right
    .caption
      margin: $gutter 0
      font-size: 12px
      color: #999999
      a.credit
        display: block
        font-size: 10px
        text-transform: uppercase
        border: none
        color: #6699cc

code
  &.ruby
    .comment
      color: #999999
    .string
      color: #409b1c
    .keywords
      color: #ff7800
    .entity
      color: #3b5bb5
    .variable
      color: #999999
    .constant
      color: #999999
  &.shell
    .prompt
      color: #999999

nav
  display: block
  clear: both
  overflow: auto
  width: 700px
  margin: 0 auto
  line-height: 20px
  padding: 10px 0
  font-size: 12px
  h2
    color: #cccccc
    font-size: 12px
    text-transform: uppercase
    float: left
    margin-top: 2px
  ul
    margin-left: 100px
    width: 400px
    li
      float: left
      margin-right: 10px
      color: #dddddd
      line-height: 20px
      font-size: 12px
      a
        line-height: 19px
        font-size: 12px
        text-decoration: none
      &.special:hover
        color: yellow


#hearts
  content
    width: !width
  
  .heart
    overflow: hidden
    position: relative
    float: left
    margin: 40px
      bottom: 30px
    height: 190px
    
    &:nth-child(3n)
      margin-right: 0
    &:nth-child(3n+1)
      margin-left: 0
    
    .viewport
      width: 180px
      height: 180px
      overflow: hidden
      position: relative
      
      svg, vml
        position: absolute
    
      .grain
        background: url("/images/grain.png")
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
    .shadow
      background: url("/images/frame-shadow-mini.png") bottom no-repeat
      height: 10px
      width: 100%